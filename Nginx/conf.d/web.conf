server {
    listen 443 ssl http2;
    server_name web.com; 
    #root /etc/nginx/dist; 

    # location / {
    #    try_files $uri $uri/ /index.html; 
    #}
    location /  {
    proxy_pass http://web.web.com/ ;
    }

        ssl_certificate /slcf/web.com.pem;
        ssl_certificate_key /slcf/web.com.key;
        ssl_protocols TLSv1.2 TLSv1.3;


    # Optional: Add error handling for 404 Not Found
    error_page 404 /404.html; 
    location ~* /(?:uploads|files|wp-content|wp-includes|akismet)/.*.php$ {
        allow 47.74.277.1;
        deny all;
        #access_log off;
        #log_not_found off;
        }
    location ~ /\.(svn|git) {
    deny all;
    access_log off;
    log_not_found off;
        }
        location ~ /\.ht {
    deny all;
    access_log off;
    log_not_found off;
        }
        location ~ /\.user.ini { 
    deny all; 
    access_log off;
    log_not_found off;
        }
    #隐藏 PHP 版本
    fastcgi_hide_header X-Powered-By;
    proxy_hide_header X-Powered-By;
    autoindex off;
    
    #禁止访问的文件或目录
        location ~ ^/(\.user.ini|\.htaccess|\.git|\.svn|\.project|LICENSE|README.md|\.exe)
        { return 444; }

}
